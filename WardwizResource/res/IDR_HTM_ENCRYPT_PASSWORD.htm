<html custom-frame="solid-with-shadow" lang="ENGLISH">
<head>
<title>Encrypt Password</title>
<link href="IDR_TIS_ENGLISH.tis" hreflang="ENGLISH" rel="translation">
<link href="IDR_TIS_GERMAN.tis" hreflang="GERMAN" rel="translation">			
<include src="IDR_HTM_FONT_AWESOME.htm" />		
<style>
	@import url(IDR_CSS_MAIN.css);
	@import url(IDR_CSS_LIGHTBOX_DIALOG.css);
	@import url(IDR_CSS_GERMAN_LANG.css);
	
	html{
		width:402dip;
		height:auto;
		overflow:hidden;
	}
	.inner_content{
		padding-left:20dip;
		padding-right:20dip;
	}
	.footer_buttons_encrypt{
		width:380dip;
		text-align:right;
		height:50dip;
		margin-top:10dip;
	}
	.chkbox{
		display:inline-block;
		padding:0;
		margin:0;
		float:left;
		padding-left:17dip;
		margin-top:10dip;
	}
	input{ 
		context-menu:none; 
	} 
	body.encryptpassword{
		background-size:cover;	
		padding:0dip;
		margin:0dip;
		border:0.5dip solid #3d748e;
	}
	.header_encryptpassword{
		flow:horizontal;
		width:400.5dip;        
		height:40dip;
	}
	.input_password_encrypt{
		width:350dip;
		border-radius:4dip;
		border:1dip solid #dcdcdc;
		padding-left:5dip;
		display:inline-block;
	}
</style>
<script type="text/tiscript">
	include "IDR_TIS_LIGHTBOX_DIALOG.tis";	
    include "IDR_TIS_GERMAN_LANG.tis";
    include "IDR_TIS_GERMAN_LANG_TOOL.tis";
</script>

<script type="text/tiscript">
	$(#chkKeepOriginal).onClick = function()
	{
		view.parameters.varKeepOriginal = $(#chkKeepOriginal).checked;
	}
</script>

<script type="text/tiscript">
	function ValidatePassword()
	{
		var varPassword = $(#EncPassword).value;
		var varConfirmPassword = $(#ConfirmPassword).value;
		var regexp = /[0-9]/gi;
		var matchesArray = varPassword.search(regexp);
		var spregexp = /[~,`,!,@,#,$,%,^,&,*,(,),_,-,+,=,{,},[,\],|,\,?,\/,.,,,',:,;,<,>]/gi;
		var matchesArraySp = varPassword.search(spregexp);
	
		if(varPassword.length < 1 )
		{
			$(#ID_LIGHTBOX_TXT).value = Lang.translate("ID_PLEASE_ENTER_PASSWORD_FOR_DATA_ENCRYPTION");
			var res = dialog { body:$(form#simple-dialog),
						returns: #values,
						caption : Lang.translate("ID_WARNING"),
						buttons: [ { caption: "OK", role:#ok, value:true }]
						};			
			return;
		}
		if(matchesArray < 0 )
		{
			$(#ID_LIGHTBOX_TXT).value = Lang.translate("ID_PASSWORD_SHOULD_CONTAIN_ONE_DIGIT");
			var res = dialog { body:$(form#simple-dialog),
						returns: #values,
						caption : Lang.translate("ID_WARNING"),
						buttons: [ { caption: "OK", role:#ok, value:true }]
						};			
			$(#ConfirmPassword).value ="";
			$(#EncPassword).value = "";
			return;
		}
		if(matchesArraySp < 0 )
		{
			$(#ID_LIGHTBOX_TXT).value = Lang.translate("IDS_STATIC_FLDRLCKPSSWRD_VALIDSPL");
			var res = dialog { body:$(form#simple-dialog),
						returns: #values,
						caption : Lang.translate("ID_WARNING"),
						buttons: [ { caption: "OK", role:#ok, value:true }]
						};			
			$(#ConfirmPassword).value ="";
			$(#EncPassword).value = "";
			return;
		}
		if(varPassword.length >= 1 && varPassword.length < 5)
		{
			$(#ID_LIGHTBOX_TXT).value = Lang.translate("IDS_STATIC_FLDRLCKPSSWRD_VALID5");
			var res = dialog { body:$(form#simple-dialog),
						returns: #values,
						caption : Lang.translate("ID_WARNING"),
						buttons: [ { caption: "OK", role:#ok, value:true }]
						};			
			$(#ConfirmPassword).value ="";
			$(#EncPassword).value = "";
			return;
		}
		if(varPassword != varConfirmPassword)
		{
			$(#ID_LIGHTBOX_TXT).value = Lang.translate("ID_PLEASE_ENTER_SAME_PASSWORD");
			var res = dialog { body:$(form#simple-dialog),
						returns: #values,
						caption : Lang.translate("ID_WARNING"),
						buttons: [ { caption: "OK", role:#ok, value:true }]
						};			
			$(#ConfirmPassword).value ="";
			$(#EncPassword).value = "";
			return;
		}
		view.parameters.varrTemp[0].encryptPassword = $(#EncPassword).value;
		view.close( $(form).value )
	}
</script>

<script type="text/tiscript">
	$(#ID_LOGO).onClick = function()
	{
		if(g_LanguageName == "ENGLISH")
			Sciter.launch("https://vibranium.co.in/");  //english for basic
		else if(g_LanguageName == "GERMAN")
			Sciter.launch("https://vibranium.co.in/"); //german for basic
	}
</script> 

<script type="text/tiscript">
	$(#ID_OK_BTN).onClick = function()
	{
		ValidatePassword();
	}
	$(#ID_CANCEL_BTN).onClick = function()
	{
		view.close(null);
	}
	$(#window-close) << event click()
	{				
		view.close(null);
	}
</script>
<script type="text/tiscript">
	function PasswordEnter(pwd) {
		var t = pwd.value;
		if(	pwd.attributes["type"] == "password")
		{
			pwd.attributes["type"] = "text";
		}	
		else
		{
			pwd.attributes["type"] = "password";
		}			
		pwd.value = t;			
	}
	
	function ChangePwdAttr(pwd) {
		var t = pwd.value;
		pwd.attributes["type"] = "password";
		pwd.value = t;			
	}
	
	$(#BTN_TOGGLE_ENTER).on("mousedown", function(evt){
		PasswordEnter($(input#EncPassword));
	});
	
	$(#BTN_TOGGLE_ENTER).on("mouseup", function(evt){
		ChangePwdAttr($(input#EncPassword));
	});
	
	$(#BTN_TOGGLE_CONFIRM).on("mousedown", function(evt){
		PasswordEnter($(input#ConfirmPassword));
	});
	
	$(#BTN_TOGGLE_CONFIRM).on("mouseup", function(evt){
		ChangePwdAttr($(input#ConfirmPassword));
	});
	</script>
	
	<script type="text/tiscript">
	function OnSetDefaultTheme()
	{
		$(body).style["background-image"] = "url(IDR_JPG_DEFAULT_BACKGRUND.jpg)";
		$(head).$append(<style>@import url(IDR_CSS_MAIN.css);</style>);
	}
	function OnSetDarkTheme()
	{
		$(body).style["background-image"] = "url(IDR_JPG_DARK_THEME.jpg)";
		$(head).$append(<style>@import url(IDR_CSS_MAIN_DARK_THEME.css);</style>);
		$(head).$append(<style>@import url(IDR_CSS_LIGHTBOX_DIALOG_DARK.css);</style>);
	}
	function OnSetCrystalTheme()
	{
		$(body).style["background-image"] = "url(IDR_JPG_CRYSTAL_BACKGRUND.jpg)";
		$(head).$append(<style>@import url(IDR_CSS_MAIN_CRYSTAL_THEME.css);</style>);
		$(head).$append(<style>@import url(IDR_CSS_LIGHTBOX_DIALOG_CRYSTAL.css);</style>);
	}
	</script>

<script type="text/tiscript">
	function self.ready()
	{
		if(view.parameters.varThemeType == "defaultTheme"){
			OnSetDefaultTheme();
		}
		else if(view.parameters.varThemeType == "darkTheme"){
			OnSetDarkTheme();
		}
		else if(view.parameters.varThemeType == "crystalTheme"){
			OnSetCrystalTheme();
		}
		self.language =  view.parameters.varLanguageValue;
		$(#EncPassword).attributes["novalue"] = Lang.translate("ID_NO_VALUE_ENTER_PASS");
		$(#ConfirmPassword).attributes["novalue"] = Lang.translate("ID_NO_VALUE_ENTER_CONFIRM_PASS");
		$(#chkKeepOriginal).checked = true; 
		view.parameters.varKeepOriginal = true;
	}
</script>

<form #simple-dialog>
    <label #ID_LBOX_HEADING></label>
	<p #ID_LIGHTBOX_TXT></p>
</form>
</head>
<body .encryptpassword>
	<div .header_encryptpassword>
		<window-caption role="window-caption">
			<img src="IDR_IMG_SHIELD_ICO.png" #ID_LOGO style="width:23dip;">
		</window-caption>	
		<window-button #window-close></window-button>
	</div>
	<div .inner_content>
		<form>
		<p><label>ID_ENCRYPT_FILE_PROVIDE_PASSWORD_FOR_DECRYPTION</label></p>
		<p><label>ID_PASSWORD</label>:</p>
		<widget>
		<input type="password" .input_password_encrypt name="EncryptPassword" #EncPassword maxlength="24">
		<div class="eye">
			<button .null_button #BTN_TOGGLE_ENTER><div>
				<svg version="1.1" id="Layer_14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					viewBox="0 0 500 500" enable-background="new 0 0 500 500" xml:space="preserve" class="eyeIcon">
				<path fill="none" stroke="#000000" stroke-width="15" stroke-miterlimit="10" d="M31,243c0,0,91-129,225-123s214,123,214,123
					s-97,91.2-231,91c-80.3-0.1-166-50.5-208-97"/>
				<circle fill="none" stroke="#000000" stroke-width="15" stroke-miterlimit="10" cx="245.5" cy="222.5" r="69.5"/>
				<path stroke="#000000" stroke-width="15" stroke-miterlimit="10" d="M302,250c0,24-35.2,41.7-59.2,41.7S189,272.3,189,248.2
					s29.8-43.5,53.8-43.5S302,226,302,250z"/>
				</svg>
			</div></button>
		</div>
		</widget>
		<p><label>ID_CONFIRM_PASSWORD</label>:</p>
		<widget>
		<input type="password" .input_password_encrypt name="ConfirmEncryptPassword" #ConfirmPassword  maxlength="24">
		<div class="eye">
			<button .null_button #BTN_TOGGLE_CONFIRM><div>
				<svg version="1.1" id="Layer_14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					viewBox="0 0 500 500" enable-background="new 0 0 500 500" xml:space="preserve" class="eyeIcon">
				<path fill="none" stroke="#000000" stroke-width="15" stroke-miterlimit="10" d="M31,243c0,0,91-129,225-123s214,123,214,123
					s-97,91.2-231,91c-80.3-0.1-166-50.5-208-97"/>
				<circle fill="none" stroke="#000000" stroke-width="15" stroke-miterlimit="10" cx="245.5" cy="222.5" r="69.5"/>
				<path stroke="#000000" stroke-width="15" stroke-miterlimit="10" d="M302,250c0,24-35.2,41.7-59.2,41.7S189,272.3,189,248.2
					s29.8-43.5,53.8-43.5S302,226,302,250z"/>
				</svg>
			</div></button>
		</div>
		</widget>
		</form>
	</div>
	<div .footer_buttons_encrypt>
		<p .chkbox><input type="checkbox" #chkKeepOriginal><label for="chkKeepOriginal">ID_KEEP_ORIGINAL</label></p>
		<div class="btnCstmSmall" #ID_OK_BTN></span><label>ID_OK</label></div>  
		<div class="btnCstmSmall" #ID_CANCEL_BTN ></span><label>ID_CANCEL</label></div>  
	</div>
</body>
</html>